<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Title</title>
<link href="style.css" rel="stylesheet" type="text/css">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>












<p style='text-align: center'><img src="http://www.uia.no/no/content/download/79969/1326369/file/UiA+logo+engelsk.jpg" width="50%" height="50%" alt="UiA Logo"></p>
<p><br></p>
<p><br></p>

<div style="font-size: 16pt; text-align: center"><b>Adaptive Game Difficulty</b></div>

<p><br></p>
<p style="text-align: center">By<br>
<br>Jon Vegard Jansen, Robin Tollisen
</p>
<p style='text-align: center'>Supervisor: Sondre Glimsdal<br><br></p>
<p style='text-align: center'><b>Project report for IKT411 in Spring 2013</b><br><br></p>
<p style="text-align: center">Faculty of Engineering and Science
<br>University of Agder
<br>Grimstad, 7th of June
</p>

<p style='text-align: center'>Status: Final</p>
<p><b>Keywords:</b> Learning systems, unsupervised online learning, stochastic hill climbing, tower defence, maximize fun, video games<br></p>

<p><b>Abstract:</b><br>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>


<h1 id='toc' class='notoc'>Table of contents</h1>

<div>
<a href='#table_of_figures' class='toc_1'>Table of figures</a><br>
<a href='#table_of_tables' class='toc_1'>Table of tables</a><br>
<a href='#preface' class='toc_1'>Preface</a><br>
<a href='#introduction' class='toc_1'>Introduction</a><br>
<a href='#introduction_-_background' class='toc_2'>Background</a><br>
<a href='#introduction_-_problem_statement' class='toc_2'>Problem Statement</a><br>
<a href='#introduction_-_problem_solution' class='toc_2'>Problem Solution</a><br>
<a href='#game_description' class='toc_1'>Game Description</a><br>
<a href='#game_description_-_genre' class='toc_2'>Genre</a><br>
<a href='#game_description_-_our_game' class='toc_2'>Our game</a><br>
<a href='#system' class='toc_1'>System</a><br>
<a href='#system_-_sensors' class='toc_2'>Sensors</a><br>
<a href='#system_-_feedback' class='toc_2'>Feedback</a><br>
<a href='#system_-_parameters' class='toc_2'>Parameters</a><br>
<a href='#system_-_relations' class='toc_2'>Relations</a><br>
<a href='#jumping' class='toc_1'>Jumping</a><br>
<a href='#jumping_-_stochastic_hill_climbing' class='toc_2'>Stochastic hill climbing</a><br>
<a href='#jumping_-_stochastic_hill_climbing_-_stochastic_hill_climbing_example' class='toc_3'>Stochastic hill climbing example</a><br>
<a href='#jumping_-_v_r_algoritme' class='toc_2'>Vår algoritme</a><br>
<a href='#testing' class='toc_1'>Testing</a><br>
<a href='#discussion' class='toc_1'>Discussion</a><br>
<a href='#conclusion' class='toc_1'>Conclusion</a><br>
<a href='#references' class='toc_1'>References</a><br>
</div>


<h1 id='table_of_figures'>Table of figures</h1>

<div>
</div>


<h1 id='table_of_tables'>Table of tables</h1>
<a href='#reference_1' title='Husk class='notoc''>[1]</a>

<div>
</div>


<h1 id='preface'>Preface</h1>

<p>
Kanskje droppe dette kapittelet
</p>

<h1 id='introduction'>Introduction</h1>
<p>
This chapter contains the background for why and where we believe that this project is relevant, as well as outlining a proposed solution @("Ikke ref, men kanskje annerledes wording?)
</p>
<a href='#reference_2' title='Generelt spørsmål til Sondre: Er det ok å gjøre det slik, at toppoverskrifter har kun info om rapporten i seg selv, og la underoverskrifter ta seg av det mer konkrete?'>[2]</a>

<h2 id='introduction_-_background'>Background</h2>
<p>
In the world of video games (henceforth: 'games'), the quality of a game is dependant on its entertainment value, or in layman's terms, the level of 'fun' perceived among its players. <a href='#reference_3' title='Referere til noe?'>[3]</a> Since games appeal to a wide variety of players, the perceived level of fun may often vary among its players, due to personal preferences. In order to accomodote for such varying preferences, traditional games have often implemented several chosen levels of difficulty, as well as providing the player with several settings or options for how they want the game to behave. <a href='#reference_4' title='Referere til noe2?'>[4]</a> When it comes to difficulty, other work has already been done on how to scale and adapt this to the level of player, in order to make even games <a href='#reference_5' title='Referere til vårt Research Seminar paper'>[5]</a>, but in order to make a game fun, we believe that more than difficulty needs to adapt to individual preferences, thus more aspects of a game should be able to change on the fly. In this project we research whether such a game can be made. <a href='#reference_6' title='OK wording?'>[6]</a>
</p>

<h2 id='introduction_-_problem_statement'>Problem Statement</h2>
<p>
Our project is to undergo research towards whether it is possible to create a game, that uses an unsupervised online learning algorithm, which will adapt the game to the user's preferences based on minimal user feedback. <a href='#reference_7' title='is it in the problem to create a game itself, or is that just something we do to prove it?'>[7]</a>
</p>

<h2 id='introduction_-_problem_solution'>Problem Solution</h2>
<p>
We have chosen to create game using the tower defence genre, as this requires somewhat less work and graphics than many other genres, as well as having a lot of possible parameters that can be tweaked in order to adapt the contents of the game (henceforth: gameplay). The game uses a modified stochastic hill climbing algorithm together with some user feedback after each game, to adapt itself towards the individual player.
</p>

<h1 id='game_description'>Game Description</h1>

<p>
This chapter gives some pictures and a short description of our game, as well as some general information about the game genre, namely tower defence.
</p>

<h2 id='game_description_-_genre'>Genre</h2>
<p>
- Om TD generelt
</p>

<h2 id='game_description_-_our_game'>Our game</h2>
<p>
Our game is very similar to classic tower defence games, in that the player has to stop different kinds of enemies from reaching the destination on their path, by using different kinds of towers. Our game differs from other tower defence games on the following:<br>
- There are no scripted or static levels, since each game is a step closer towards the player's 'ideal game', that is, the game that is perceived as the most fun.<br>
- Other than that the game learns after each level, the player has nothing that is carried over to the next game, such as tower access, special items or game progress in general. The player simply plays successive games until he or she quits.<br>
- Modular towers and enemies. This is not necessarily new to the tower defence genre, as not all tower defence games may have pre-defined enemies and towers, but this is something that can be used in order to adapt the game towards personal preferences. <br>
- (Guided) Randomly generated maps. Not necessarily new to the genre either, but is another useful technology that can be used to adapt the game to the player. Note that our game did not use this for game adaption, only to make the game seem less static.
</p>


<h1 id='system'>System</h1>

<p>
Vi har følgende:<br>
- Sensors --> PlayerLevel<br>
- Feedback --> Metric for jump<br>
- Parameters: What changes the game<br>
- Relations: How parameters are changed i forhold til hverandre
</p>

<h2 id='system_-_sensors'>Sensors</h2>
<p>
Dette er våre sensorer<br>
- APS<br>
- Lives left<br>
- Variety
</p>

<p>
Til sammen gir dette playerlevel som vi bruker til å endre vanskelighetsgrad.
</p>

<h2 id='system_-_feedback'>Feedback</h2>
<p>
Vi tar imot input fra brukeren slik. Se bildet.<br>
Happy og GoodDifficulty.<br>
Metrikk regnes ut slik og slik.
</p>

<h2 id='system_-_parameters'>Parameters</h2>

<p>
Vi endrer på parameterene våre i forhold til om de skal endre vanskelighetsgrad eller kun endre gameplay.<br>
- Difficulty: Global HP<br>
- Gameplay only: The rest.
</p>

<p>
Dette er parameterene våre som vi endrer på, inkludert formler.<br>
- Global HP: Metrick.f+0das f+dsaf43o<br>
- Global Speed: 2x +54ifjd + gfd3
</p>
-
-
-
-
-
-
<p>
- Etc
</p>

<h2 id='system_-_relations'>Relations</h2>

<p>
Våre relasjoner er enten: Dvs. at om den ene endres, må den andre også endres.<br>
- Inverse proportional<br>
- Proportional
</p>

<p>
De har også en impact factor, som bestemmer hvor mye de skal påvirke hverandre.
</p>

<p>
Vi burde cappe (HUSK HUSK)
</p>

<p>
Inverse<br>
Global HP - Global Speed<br>
Proportional<br>
Build cost - Sell value
</p>

<h1 id='jumping'>Jumping</h1>

<p>
This chapter describes the modified stochastic hill climbing algorithm, that we use for unsupervised online learning. First we present it in general, without modifications, for solving a more simple two-dimensional problem.
</p>

<h2 id='jumping_-_stochastic_hill_climbing'>Stochastic hill climbing</h2>

<p>
A hill climbing algorithm "is a mathematical optimization technique which belongs to the family of local search" <a href="http://en.wikipedia.org/wiki/Hill_climbing">[8]</a><br>
It tries to maximize a function f(X), where X is a vector of parameters or values, and changes one, or in our case: all, of the mentioned parameters in a particular direction, checks if this is an improvement on f(X). If it is, then it keeps the current values, and repeats the process. If the new values are not an improvement of the old ones, the algorithm discards the new values, and fetches the old ones, before repeating the process. The process is repeated until no more improvements can be found, thus the algorithm has found a local maximum.
</p>

<p>
One issue with this algorithm, is that it can become stuck on a local maximum, which may not be the global maximum. One way to reduce the probability of this to happen, is to allow the algorithm to jump larger distances each jump.
</p>

<p>
There are several variants of hill climbing algorithms, and they have different ways of deciding where and when to jump. Two examples are the simple hill climbing algorithm and the steepest ascent hill climbing algorithm. The simple hill climbing algorithm examines new positions in a particular order, and jumps to the first one that is an improvement over the old one, while the steepest ascent algorithm first examines all possible positions, and then jumps to the best one. The stochastic hill climbing algorithm, on the other hand, chooses a position at random, then evaluates whether it is an improvement, and if it is, jumps to the new position.
</p>

<p>
With stochastic hill climbing, it may be wise to set a specific maximum jump distance, and let this decrease over time. This allows the algorithm to converge or settle on a position after some time.
</p>

<h3 id='jumping_-_stochastic_hill_climbing_-_stochastic_hill_climbing_example'>Stochastic hill climbing example</h3>

<p>
Here is an example for how to use stochastic hill climbing for how to find the maximum value of the function <MATH>f(X) = 2 - x<sup>2</sup> </MATH>. which has a maximum value of 2. We initialize the maximum jump distance (in x-direction) to a value of 1.0, and let this decrease by 0.1 with each jump.
</p>

<p>
Bilde bla bla, se her verdier<br>
start: 0, hopp til -1, nei, topp til 0.7, ja. hopp til 1.5, ja. hopp til 1.2, nei. ghopp til 1.8, ja. hopp til 1.9, ja. hopp til 1.5, nei. hopp til 2, ja. hopp til noe mer? Nei, men fortsetter likevel.
</p>

<p>
As you can see, after some time, the algorithm should be able to land at a value close to 2. While it may be difficult to land exactly on 2, it may be acceptable that algorithm is able to land in an approximate area around 2.
</p>

<h2 id='jumping_-_v_r_algoritme'>Vår algoritme</h2>

<p>
As you can 
</p>

<MATH>&int;<SUB>a</SUB><SUP>b</SUP><BOX>f(x)<ABOVE>1+x</BOX> dx</MATH>



<p>
If else when then so do stuff and dont sit there.
</p>

<h1 id='testing'>Testing</h1>
<p>
Vi testet spillet på 5 forskj. brukere som er ulike. Disse syntes spillet vårt var ca 1000 gøy, noe som er med på å bygge under at dette var en stor suksess. De nevnte en del mangler med spillet, men det er litt irrelevant, fordi det var ikke nettopp det vi har lagt vekt på i problem statement.
</p>

<h1 id='discussion'>Discussion</h1>
<p>
Gode ting er nettopp at det hele funket.<br>
Dårlige ting er at vi ikke kunne lage et godt nok spill, som kanskje kan ha noe å si, ettersom vår research bit er kun én del av hva som gjør et spill gøy.<br>
TD er kanskje ikke beste sjangeren.
</p>

<h1 id='conclusion'>Conclusion</h1>
<p>
Dette kan bli bra i fremtiden, om vi kan ta det videre. Vi vil nok bruke det i en annen spillsjanger, hvor vi ser mer forskjell.
</p>

<h1 id='references'>References</h1>

<div>
<span id='reference_1'>[1] Husk class='notoc'</span><br>
<span id='reference_2'>[2] Generelt spørsmål til Sondre: Er det ok å gjøre det slik, at toppoverskrifter har kun info om rapporten i seg selv, og la underoverskrifter ta seg av det mer konkrete?</span><br>
<span id='reference_3'>[3] Referere til noe?</span><br>
<span id='reference_4'>[4] Referere til noe2?</span><br>
<span id='reference_5'>[5] Referere til vårt Research Seminar paper</span><br>
<span id='reference_6'>[6] OK wording?</span><br>
<span id='reference_7'>[7] is it in the problem to create a game itself, or is that just something we do to prove it?</span><br>
<a id='reference_8' href="http://en.wikipedia.org/wiki/Hill_climbing">[8] http://en.wikipedia.org/wiki/Hill_climbing</a><br>
</div>

</body></html>